import{_ as n,c as a,o as s,d as t}from"./app.7277c524.js";const g='{"title":"\u767E\u5EA6\u5730\u56FEAPI","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u57FA\u672C\u4F7F\u7528","slug":"\u57FA\u672C\u4F7F\u7528"},{"level":2,"title":"\u9F20\u6807\u653E\u5927","slug":"\u9F20\u6807\u653E\u5927"},{"level":2,"title":"\u6DFB\u52A0\u591A\u4E2A\u63A7\u4EF6","slug":"\u6DFB\u52A0\u591A\u4E2A\u63A7\u4EF6"},{"level":2,"title":"\u9690\u85CF\u4E00\u90E8\u5206","slug":"\u9690\u85CF\u4E00\u90E8\u5206"},{"level":2,"title":"\u79FB\u52A8\u5730\u56FE","slug":"\u79FB\u52A8\u5730\u56FE"},{"level":2,"title":"\u7F29\u653E\u5730\u56FE","slug":"\u7F29\u653E\u5730\u56FE"},{"level":2,"title":"\u5730\u56FE\u7684\u62D6\u52A8\uFF1A","slug":"\u5730\u56FE\u7684\u62D6\u52A8\uFF1A"},{"level":2,"title":"\u81EA\u5B9A\u4E49\u4E00\u4E2A\u63A7\u4EF6","slug":"\u81EA\u5B9A\u4E49\u4E00\u4E2A\u63A7\u4EF6"},{"level":2,"title":"\u4F7F\u7528\u7F16\u8F91\u7684\u6837\u5F0F","slug":"\u4F7F\u7528\u7F16\u8F91\u7684\u6837\u5F0F"},{"level":2,"title":"\u81EA\u5B9A\u4E49\u6807\u6CE8\u70B9","slug":"\u81EA\u5B9A\u4E49\u6807\u6CE8\u70B9"},{"level":2,"title":"\u6DFB\u52A0\u5B9A\u4F4D\u76F8\u5173\u63A7\u4EF6","slug":"\u6DFB\u52A0\u5B9A\u4F4D\u76F8\u5173\u63A7\u4EF6"},{"level":2,"title":"\u83B7\u53D6\u5B9A\u4F4D","slug":"\u83B7\u53D6\u5B9A\u4F4D"},{"level":3,"title":"\u6D4F\u89C8\u5668\u5B9A\u4F4D","slug":"\u6D4F\u89C8\u5668\u5B9A\u4F4D"},{"level":3,"title":"ip\u5B9A\u4F4D","slug":"ip\u5B9A\u4F4D"}],"relativePath":"src/frontend/other-note/\u767E\u5EA6\u5730\u56FEAPI.md","lastUpdated":1649840977678}',p={},o=t(`<h1 id="\u767E\u5EA6\u5730\u56FEapi" tabindex="-1">\u767E\u5EA6\u5730\u56FEAPI <a class="header-anchor" href="#\u767E\u5EA6\u5730\u56FEapi" aria-hidden="true">#</a></h1><blockquote><p>\u5730\u5740\uFF1A <a href="http://lbsyun.baidu.com/" target="_blank" rel="noopener noreferrer">http://lbsyun.baidu.com/</a>;</p></blockquote><h2 id="\u57FA\u672C\u4F7F\u7528" tabindex="-1">\u57FA\u672C\u4F7F\u7528 <a class="header-anchor" href="#\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a></h2><ol><li><p>\u8BBE\u7F6Emeta</p><p>\u53EF\u4EE5\u5728meta\u6807\u7B7E\u6DFB\u52A0user-scalable=no</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0,user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>;
</code></pre></div></li><li><p>\u5F15\u5165script</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://api.map.baidu.com/api?v=3.0&amp;ak=\u60A8\u7684\u5BC6\u94A5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>\u521B\u5EFAcontainer\u5BB9\u5668\uFF0C\u9700\u8981\u8D77id\u540D\uFF1B\u5E76\u8BBE\u7F6E\u76F8\u5E94\u7684\u5BBD\u9AD8\uFF1B</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>\u57FA\u672C\u914D\u7F6E;</p><ol><li><p>\u521B\u5EFAmap\u5B9E\u4F8B\uFF1A <code>new BMap.Map(&#39;container&#39;[,option]);</code></p><ul><li>\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3Aid\u540D\uFF0C\u83B7\u53D6\u663E\u793A\u5143\u7D20</li><li>\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3A\u5BF9\u8C61\uFF1A <ul><li>\u8BBE\u7F6E\u7EA7\u522B\uFF1A<code>minZoom</code>:\u6700\u5C0F\u7EA7\u522B\uFF0C<code>maxZoom</code>:\u6700\u5927\u7EA7\u522B\uFF1B\uFF08\u8BBE\u7F6E\u4E4B\u540E\u5C06\u4E0D\u5141\u8BB8\u7528\u6237\u7F29\u653E\u5230\u6700\u5C0F\u6700\u5927\u7684\u6BD4\u4F8B\uFF09\uFF1B\u7B49\u7EA7\u4E3A3-19\u7EA7\uFF1B</li></ul></li></ul></li><li><p>\u521D\u59CB\u5316\u5730\u56FE\u4E2D\u5FC3\u70B9\uFF1Amap.centerAndZoom(\u5750\u6807|\u57CE\u5E02,\u7B49\u7EA7)\uFF1B</p><ul><li>\u5982\u679C\u662F\u4EE5\u5750\u6807\u6765\u8BBE\u7F6E\u4E2D\u5FC3\u70B9\uFF1A\u9700\u8981\u5B9E\u4F8B\u5316Point\uFF1A<code>new BMap.Point(\u4E1C\u7ECFlng,\u5317\u7EAClat)</code></li><li>\u5982\u679C\u662F\u4EE5\u5B57\u7B26\u4E32\u8868\u793A\u7684\uFF0C\u4E0D\u9700\u8981\u5199\u7B49\u7EA7\uFF0C\u5750\u6807\u8868\u793A\u5FC5\u987B\u5199\u7B49\u7EA7\uFF1B</li></ul></li><li><p>\u521D\u59CB\u5316\u5730\u56FE;</p><div class="language-js"><pre><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u914D\u7F6E\u5730\u56FE\u663E\u793A\u4E2D\u5FC3\u70B9\u548C\u7F29\u653E\u7B49\u7EA7;   //\u4EE5\u5750\u6807\u663E\u793A;</span>
map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">116.404</span><span class="token punctuation">,</span> <span class="token number">39.915</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol></li></ol><h2 id="\u9F20\u6807\u653E\u5927" tabindex="-1">\u9F20\u6807\u653E\u5927 <a class="header-anchor" href="#\u9F20\u6807\u653E\u5927" aria-hidden="true">#</a></h2><p>\u9ED8\u8BA4\u53CC\u51FB\u653E\u5927\uFF0C\u9ED8\u8BA4\u662F\u4E0D\u652F\u6301\u9F20\u6807\u6EDA\u8F6E\u653E\u5927\u7684\uFF0C \u5F00\u542F\u9F20\u6807\u6EDA\u8F6E\u653E\u5927\uFF1Amap.enableScrollWheelZoom(true)\uFF1B</p><h2 id="\u6DFB\u52A0\u591A\u4E2A\u63A7\u4EF6" tabindex="-1">\u6DFB\u52A0\u591A\u4E2A\u63A7\u4EF6 <a class="header-anchor" href="#\u6DFB\u52A0\u591A\u4E2A\u63A7\u4EF6" aria-hidden="true">#</a></h2><ol><li><p>\u6DFB\u52A0\u63A7\u4EF6\u4F7F\u7528map.addControl()\uFF1B</p><div class="language-js"><pre><code>map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>NavigationControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//\u5E73\u79FB\u7F29\u653E(\u5DE6\u4E0A)</span>
map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>ScaleControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//\u6BD4\u4F8B\u5C3A(\u5DE6\u4E0B)</span>
map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>OverviewMapControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//\u7F29\u7565\u5730\u56FE(\u53F3\u4E0B\u65B9\uFF0C\u9700\u8981\u70B9\u51FB)</span>
map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>MapTypeControl</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">mapTypes</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token constant">BMAP_NORMAL_MAP</span><span class="token punctuation">,</span>
            <span class="token constant">BMAP_HYBRID_MAP</span>
        <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//\u5730\u56FE\u7C7B\u578B(\u6709\u536B\u661F\u5730\u56FE\u652F\u6301)</span>
map<span class="token punctuation">.</span><span class="token function">setCurrentCity</span><span class="token punctuation">(</span><span class="token string">&quot;\u5317\u4EAC&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u4EC5\u5F53\u8BBE\u7F6E\u57CE\u5E02\u4FE1\u606F\u65F6\uFF0CMapTypeControl\u7684\u5207\u6362\u529F\u80FD\u624D\u80FD\u53EF\u7528\uFF0C\u5FC5\u987B\u6DFB\u52A0\uFF1B</span>
</code></pre></div></li><li><p>\u79FB\u52A8\u5730\u56FE\u63A7\u4EF6\u7684\u4F4D\u7F6E\uFF1A</p><p>\u521D\u59CB\u5316\u5730\u56FE\u63A7\u4EF6\u65F6\uFF0C\u5728\u5C0F\u62EC\u53F7\u91CC\u6DFB\u52A0\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5E76\u8BBE\u7F6Eanchor:\u503C\uFF1B</p><div class="language-js"><pre><code><span class="token constant">BMAP_ANCHOR_TOP_LEFT</span>\uFF1A\u5DE6\u4E0A\u89D2
<span class="token constant">BMAP_ANCHOR_TOP_RIGHT</span>\uFF1A\u53F3\u4E0A\u89D2
<span class="token constant">BMAP_ANCHOR_BOTTOM_LEFT</span>\uFF1A\u5DE6\u4E0B\u89D2
<span class="token constant">BMAP_ANCHOR_BOTTOM_RIGHT</span>\uFF1A\u53F3\u4E0B\u89D2
<span class="token literal-property property">\u5730\u56FE\u504F\u79FB\uFF1Aoffset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
</code></pre></div></li><li><p>NavigationControl\u63A7\u4EF6\u7684\u63A7\u5236\uFF1A <a href="http://lbsyun.baidu.com/index.php?title=jspopular3.0/guide/widget" target="_blank" rel="noopener noreferrer">http://lbsyun.baidu.com/index.php?title=jspopular3.0/guide/widget</a></p></li></ol><h2 id="\u9690\u85CF\u4E00\u90E8\u5206" tabindex="-1">\u9690\u85CF\u4E00\u90E8\u5206 <a class="header-anchor" href="#\u9690\u85CF\u4E00\u90E8\u5206" aria-hidden="true">#</a></h2><p>\u5982\u679C\u60F3\u8981\u9690\u85CF\u5730\u56FE\u4E2D\u7684\u67D0\u4E00\u90E8\u5206\uFF0C\u53EF\u4EE5\u901A\u8FC7f12\u67E5\u8BE2\u5230\uFF0C\u4E4B\u540E\u8BBE\u7F6Edisplay:none;\u9690\u85CF\uFF1B</p><h2 id="\u79FB\u52A8\u5730\u56FE" tabindex="-1">\u79FB\u52A8\u5730\u56FE <a class="header-anchor" href="#\u79FB\u52A8\u5730\u56FE" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>map<span class="token punctuation">.</span><span class="token function">panTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">113.262232</span><span class="token punctuation">,</span><span class="token number">23.154345</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u53EF\u4EE5\u52A0\u5230\u5B9A\u65F6\u5668\u91CC\u9762\uFF0C\u89C4\u5B9A\u4EC0\u4E48\u65F6\u5019\u5F00\u59CB\u79FB\u52A8\uFF1B</p><h2 id="\u7F29\u653E\u5730\u56FE" tabindex="-1">\u7F29\u653E\u5730\u56FE <a class="header-anchor" href="#\u7F29\u653E\u5730\u56FE" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>map<span class="token punctuation">.</span><span class="token function">setZoom</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
</code></pre></div><h2 id="\u5730\u56FE\u7684\u62D6\u52A8\uFF1A" tabindex="-1">\u5730\u56FE\u7684\u62D6\u52A8\uFF1A <a class="header-anchor" href="#\u5730\u56FE\u7684\u62D6\u52A8\uFF1A" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>map<span class="token punctuation">.</span><span class="token function">disableDragging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// \u7981\u6B62\u62D6\u62FD</span>
map<span class="token punctuation">.</span><span class="token function">enableDragging</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u5F00\u542F\u62D6\u62FD</span>
</code></pre></div><h2 id="\u81EA\u5B9A\u4E49\u4E00\u4E2A\u63A7\u4EF6" tabindex="-1">\u81EA\u5B9A\u4E49\u4E00\u4E2A\u63A7\u4EF6 <a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u4E00\u4E2A\u63A7\u4EF6" aria-hidden="true">#</a></h2><ol><li>\u83B7\u53D6\u5730\u56FE\u5BB9\u5668\uFF1Amap.getContainer();</li><li>\u8C03\u7528map.addControl()\u65B9\u6CD5\u65F6\uFF0C\u4F1A\u8C03\u7528\u8BE5\u5BF9\u8C61\u7684initialize\u65B9\u6CD5\uFF0C\u6240\u4EE5\u81EA\u5B9A\u4E49\u63A7\u4EF6\u9700\u8981\u6DFB\u52A0\u8BE5\u65B9\u6CD5\uFF1B</li><li>\u521B\u5EFA\u7684\u81EA\u5B9A\u4E49\u63A7\u4EF6\u5FC5\u987B\u8FD4\u56DE\u5143\u7D20\uFF1B</li></ol><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">ZoomControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>defaultAnchor <span class="token operator">=</span> <span class="token constant">BMAP_ANCHOR_BOTTOM_RIGHT</span><span class="token punctuation">;</span>  <span class="token comment">//\u8BBE\u7F6E\u9ED8\u8BA4\u505C\u9760\u4F4D\u7F6E</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>defaultOffset <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//\u9ED8\u8BA4\u504F\u79FB\u91CF</span>
<span class="token punctuation">}</span>
<span class="token class-name">ZoomControl</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Control</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//\u7236\u7C7B\u7684\u5B9E\u4F8B\u8D4B\u503C\u7ED9\u5B50\u7C7B\u7684\u539F\u578B;</span>

<span class="token comment">//\u521B\u5EFAinitialize\u65B9\u6CD5\uFF0C\u5E76\u8FD4\u56DE</span>
<span class="token class-name">ZoomControl</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">initialize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;\u653E\u5927\u4E24\u7EA7&#39;</span><span class="token punctuation">;</span>    <span class="token comment">// \u6DFB\u52A0\u6587\u5B57\u8BF4\u660E</span>
    div<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string">&#39;cursor:pointer;border:1px solid gray;background:red&#39;</span><span class="token punctuation">;</span>  <span class="token comment">//\u8BBE\u7F6E\u5143\u7D20\u6837\u5F0F\uFF1B</span>
    div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//\u6DFB\u52A0\u4E8B\u4EF6;</span>
        map<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getZoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//+2\u8868\u793A\u70B9\u51FB\u4E00\u6B21\u653E\u5927\u4E24\u7EA7; </span>
    <span class="token punctuation">}</span>    
    map<span class="token punctuation">.</span><span class="token function">getContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// \u6DFB\u52A0DOM\u5143\u7D20\u5230\u5730\u56FE\u4E2D  </span>
    <span class="token comment">// \u5C06DOM\u5143\u7D20\u8FD4\u56DE  </span>
    <span class="token keyword">return</span> div<span class="token punctuation">;</span>    
<span class="token punctuation">}</span>

<span class="token comment">//\u6DFB\u52A0\u63A7\u4EF6</span>
map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ZoomControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="\u4F7F\u7528\u7F16\u8F91\u7684\u6837\u5F0F" tabindex="-1">\u4F7F\u7528\u7F16\u8F91\u7684\u6837\u5F0F <a class="header-anchor" href="#\u4F7F\u7528\u7F16\u8F91\u7684\u6837\u5F0F" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>map<span class="token punctuation">.</span><span class="token function">setMapStyleV2</span><span class="token punctuation">(</span><span class="token punctuation">{</span>     
  <span class="token literal-property property">styleId</span><span class="token operator">:</span> <span class="token string">&#39;3d71dc5a4ce6222d3396801dee06622d&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="\u81EA\u5B9A\u4E49\u6807\u6CE8\u70B9" tabindex="-1">\u81EA\u5B9A\u4E49\u6807\u6CE8\u70B9 <a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u6807\u6CE8\u70B9" aria-hidden="true">#</a></h2><ol><li>\u6807\u6CE8\u70B9\u81EA\u5B9A\u4E49\u56FE\u6807\uFF1Anew BMap.Icon(url,size,[,option])\uFF1A\u5730\u5740\uFF0C\u5927\u5C0F\u521B\u5EFA\u56FE\u6807\u5BF9\u8C61\uFF1B</li></ol><p>options\uFF1Aanchor : size\uFF1B\u5DE6\u4E0A\u89D2\u504F\u79FB\u503C\uFF1B</p><p>imageOffset : size\uFF1B\u53EF\u89C6\u533A\u57DF\u7684\u504F\u79FB\u503C\uFF1B\u7B49\u540C\u4E8Ebackground-position\uFF1B</p><p>imageSize : size\uFF1B\u56FE\u7247\u7684\u5927\u5C0F\uFF0C\u7B49\u540C\u4E8Ebackground-size\uFF1B</p><div class="language-js"><pre><code><span class="token keyword">var</span> marker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Icon</span><span class="token punctuation">(</span><span class="token string">&#39;./2.png&#39;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">imageSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>new BMap.Size(w,h)\uFF1A\u6CA1\u6709\u5355\u4F4D\uFF0C\u50CF\u7D20\u8868\u793A\u77E9\u5F62\u533A\u57DF\u7684\u5927\u5C0F\uFF1B</li></ol><h2 id="\u6DFB\u52A0\u5B9A\u4F4D\u76F8\u5173\u63A7\u4EF6" tabindex="-1">\u6DFB\u52A0\u5B9A\u4F4D\u76F8\u5173\u63A7\u4EF6 <a class="header-anchor" href="#\u6DFB\u52A0\u5B9A\u4F4D\u76F8\u5173\u63A7\u4EF6" aria-hidden="true">#</a></h2><ol><li><p>\u521D\u59CB\u5316NavigationControl\u63A7\u4EF6\uFF0C\u5E76\u6DFB\u52A0<code>enableGeolocation: true</code></p><p><code>map.addControl(new BMap.NavigationControl({enableGeolocation:true}))</code></p></li><li><p>\u6DFB\u52A0\u5B9A\u4F4D\u4E8B\u4EF6</p></li></ol><div class="language-js"><pre><code><span class="token keyword">var</span> geolocationControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>GeolocationControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
geolocationControl<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;locationSuccess&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">// \u5B9A\u4F4D\u6210\u529F\u4E8B\u4EF6</span>
<span class="token keyword">var</span> address <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
address <span class="token operator">+=</span> e<span class="token punctuation">.</span>addressComponent<span class="token punctuation">.</span>province<span class="token punctuation">;</span>
address <span class="token operator">+=</span> e<span class="token punctuation">.</span>addressComponent<span class="token punctuation">.</span>city<span class="token punctuation">;</span>
address <span class="token operator">+=</span> e<span class="token punctuation">.</span>addressComponent<span class="token punctuation">.</span>district<span class="token punctuation">;</span>
address <span class="token operator">+=</span> e<span class="token punctuation">.</span>addressComponent<span class="token punctuation">.</span>street<span class="token punctuation">;</span>
address <span class="token operator">+=</span> e<span class="token punctuation">.</span>addressComponent<span class="token punctuation">.</span>streetNumber<span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F53\u524D\u5B9A\u4F4D\u5730\u5740\u4E3A\uFF1A&quot;</span> <span class="token operator">+</span> address<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
geolocationControl<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;locationError&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token comment">// \u5B9A\u4F4D\u5931\u8D25\u4E8B\u4EF6</span>
<span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span>geolocationControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="\u83B7\u53D6\u5B9A\u4F4D" tabindex="-1">\u83B7\u53D6\u5B9A\u4F4D <a class="header-anchor" href="#\u83B7\u53D6\u5B9A\u4F4D" aria-hidden="true">#</a></h2><h3 id="\u6D4F\u89C8\u5668\u5B9A\u4F4D" tabindex="-1">\u6D4F\u89C8\u5668\u5B9A\u4F4D <a class="header-anchor" href="#\u6D4F\u89C8\u5668\u5B9A\u4F4D" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">var</span> geolocation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Geolocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">BMAP_STATUS_SUCCESS</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// \u8BF7\u6C42\u9006\u5730\u7406\u7F16\u7801\u7684\u5168\u7403\u63A5\u53E3, \u83B7\u53D6cityCode\u548C\u5177\u4F53\u7684\u4F4D\u7F6E, \u9700\u8981\u4E0B\u8F7Dajax, \u56E0\u4E3A\u4F1A\u8DE8\u57DF</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">http://api.map.baidu.com/reverse_geocoding/v3/?ak=iYWapWxjHLXaLTCXcpRrGTCGpnhkvEuI&amp;output=json&amp;coordtype=wgs84ll&amp;location=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>r<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lat<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>r<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lng<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&#39;jsonp&#39;</span><span class="token punctuation">,</span>
      url<span class="token punctuation">,</span>
      <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// \u5C06\u5730\u5730\u56FE\u7684\u4E2D\u5FC3\u70B9\u8DF3\u8F6C\u5230\u83B7\u53D6\u7684\u7ECF\u7EAC\u5EA6</span>
        <span class="token keyword">var</span> mk <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Marker</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addOverlay</span><span class="token punctuation">(</span>mk<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">panTo</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">&#39;result&#39;</span><span class="token punctuation">)</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>formatted_address<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;failed&#39;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>        
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ip\u5B9A\u4F4D" tabindex="-1">ip\u5B9A\u4F4D <a class="header-anchor" href="#ip\u5B9A\u4F4D" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>LocalCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>`,37),e=[o];function c(l,u,i,k,r,d){return s(),a("div",null,e)}var h=n(p,[["render",c]]);export{g as __pageData,h as default};
