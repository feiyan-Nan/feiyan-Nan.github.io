import{_ as n,c as s,o as a,d as t}from"./app.00f96e96.js";const w='{"title":"React-08 \u9AD8\u9636\u7EC4\u4EF6","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4E00\u3001\u9AD8\u9636\u7EC4\u4EF6","slug":"\u4E00\u3001\u9AD8\u9636\u7EC4\u4EF6"}],"relativePath":"src/frontend/React/react-08 \u9AD8\u9636\u7EC4\u4EF6.md","lastUpdated":1649840977545}',p={},o=t(`<h1 id="react-08-\u9AD8\u9636\u7EC4\u4EF6" tabindex="-1">React-08 \u9AD8\u9636\u7EC4\u4EF6 <a class="header-anchor" href="#react-08-\u9AD8\u9636\u7EC4\u4EF6" aria-hidden="true">#</a></h1><h2 id="\u4E00\u3001\u9AD8\u9636\u7EC4\u4EF6" tabindex="-1">\u4E00\u3001\u9AD8\u9636\u7EC4\u4EF6 <a class="header-anchor" href="#\u4E00\u3001\u9AD8\u9636\u7EC4\u4EF6" aria-hidden="true">#</a></h2><ol><li>\u9AD8\u9636\u51FD\u6570\u7684\u6982\u5FF5\uFF1A\u51FD\u6570\u7684\u6267\u884C\u4F1A\u8FD4\u56DE\u53E6\u4E00\u4E2A\u51FD\u6570</li></ol><p>\u9AD8\u9636\u7EC4\u4EF6\uFF1A\u4E00\u4E2A\u7EC4\u4EF6\u8FD4\u56DE\u53E6\u4E00\u4E2A\u7EC4\u4EF6</p><p>\u9AD8\u9636\u7EC4\u4EF6\u7684\u4E09\u4E2A\u91CD\u70B9\uFF1A</p><ul><li>\u5FC5\u987B\u662F\u4E00\u4E2A\u51FD\u6570</li><li>\u53C2\u6570\u662F\u4E00\u4E2A\u7EC4\u4EF6</li><li>\u8FD4\u56DE\u503C\u4E5F\u662F\u4E00\u4E2A\u7EC4\u4EF6</li></ul><div class="language-jsx"><pre><code><span class="token comment">// \u5B9A\u4E49\u9AD8\u9636\u7EC4\u4EF6, \u4F5C\u7528\u662F\u5728\u4F7F\u7528\u7EC4\u4EF6\u4E4B\u524D\u505A\u5176\u4ED6\u64CD\u4F5C, \u9AD8\u9636\u7EC4\u4EF6\u662F\u53EF\u4EE5return\u591A\u5C42\u7684</span>
<span class="token keyword">const</span> <span class="token function-variable function">withComponent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">HighComponent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
        <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HighComponent</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyData</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> HighComponent <span class="token operator">=</span> <span class="token function">withComponent</span><span class="token punctuation">(</span>MyData<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HighComponent</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>hello<span class="token punctuation">&#39;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>\u9AD8\u9636\u7EC4\u4EF6\u76F8\u5F53\u4E8Emixin\u6DF7\u5408\uFF0C\u53EF\u4EE5\u628A\u516C\u5171\u7684\u903B\u8F91\u63D0\u53D6\u5230\u9AD8\u9636\u7EC4\u4EF6\u4E2D\uFF08\u4E5F\u5C31\u662F\u5305\u88C5\u4E86\u4E00\u5C42\u7236\u7EC4\u4EF6\uFF09\uFF0C\u7136\u540E\u628A\u903B\u8F91\u4E2D\u83B7\u53D6\u5230\u7684\u6570\u636E\u4EE5props\u7684\u65B9\u5F0F\u4F20\u9012\u7ED9\u539F\u7EC4\u4EF6\uFF1B</li></ol><p>\u5728\u53E6\u4E00\u4E2A\u7EC4\u4EF6\u4E2D\u5C31\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528local\u65B9\u6CD5\uFF0C\u51CF\u5C11\u516C\u5171\u903B\u8F91\u7684\u7F16\u5199</p><ol start="3"><li>\u8BF7\u6C42\u63A5\u53E3\u7684\u9AD8\u9636\u7EC4\u4EF6demo</li></ol><p>\uFF081\uFF09\u5B9A\u4E49\u9AD8\u9636\u7EC4\u4EF6</p><div class="language-jsx"><pre><code><span class="token keyword">const</span> <span class="token function-variable function">withFetch</span> <span class="token operator">=</span> <span class="token parameter">url</span> <span class="token operator">=&gt;</span> <span class="token parameter">View</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> React<span class="token punctuation">.</span>Component <span class="token punctuation">{</span>
        state <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">async</span> <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
            <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">render</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>data<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\uFF082\uFF09\u4F7F\u7528\u5B9A\u4E49\u597D\u7684\u9AD8\u9636\u7EC4\u4EF6</p><div class="language-jsx"><pre><code><span class="token keyword">class</span> <span class="token class-name">Banner</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// \u53EF\u4EE5\u76F4\u63A5\u62FF\u5230\u6570\u636E\u4E86</span>
    <span class="token punctuation">}</span>
    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withFetch</span><span class="token punctuation">(</span><span class="token string">&#39;https://wyy.heny.vip/banner&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Banner<span class="token punctuation">)</span>
</code></pre></div>`,14),e=[o];function c(l,u,k,i,r,d){return a(),s("div",null,e)}var y=n(p,[["render",c]]);export{w as __pageData,y as default};
